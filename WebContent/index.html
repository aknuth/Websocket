<!DOCTYPE html>
<html>
<head>
<title>WebSockets Client</title>
<!--  -->
<link rel="stylesheet" href="css/bootstrap.min.css">
<link rel="stylesheet" href="css/main.css" />
<!-- scripts -->
<script type="text/javascript">
	module.paths.push(__dirname+'/node_modules');
	window.$ = window.jQuery = require('jquery');
	var S = require('string');
	//require('handlebars');

</script>
<script src="js/handlebars-v4.0.5.js"></script>
<script id="handlebars-demo" type="text/x-handlebars-template">
	{{#each arr}}
				<div class="modal fade" id="{{this.modalid}}Modal" tabindex="-1" role="dialog" aria-hidden="true">
					<div class="modal-dialog" role="document">
						<div class="modal-content">
							<div class="modal-header">
								<button type="button" class="close" data-dismiss="modal" aria-label="Close">
									<span aria-hidden="true">&times;</span>
								</button>
								<h4 class="modal-title" id="{{this}}ModalLabel">Please select the {{this.label}}</h4>
							</div>
							<div class="modal-body">
								<form>
									<div class="form-group">
										<label for="portnumber" class="form-control-label">{{this.label}}:</label> <input type="text" class="form-control" id="{{this.vid}}">
									</div>
								</form>
							</div>
							<div class="modal-footer">
								<button type="button" class="btn btn-primary" id="{{this.id}}">Start</button>
							</div>
						</div>
					</div>
				</div>
	{{/each}}
</script>

<script src="js/tether.min.js"></script>
<script src="js/bootstrap.min.js"></script>
<script src="js/app.js"></script>

</head>
<body>
	<div id="wrapper">

		<div id="container">

			<h1>WebEventRecorder GUI</h1>

			<button type="button" class="btn btn-secondary" id="_connect" name="disconnected">Connect</button>
			<button type="button" class="btn btn-secondary" id="_record" disabled>Record</button>
			<label class="btn btn-secondary disabled" id="_play">Play<input type="file" style="display: none;" accept=".json" id="file"></label>
			<button type="button" class="btn btn-secondary" id="_path" disabled >Set Default Path</button>

			<div id="chatLog"></div>
			<!-- #chatLog -->
			<script>
				var template = $('#handlebars-demo').html();
				var templateScript = Handlebars.compile(template);
				var context = {"arr":[{"id":"connect","modalid":"port","vid":"portnumber","label":"Port"},{"id":"record","modalid":"record","vid":"url","label":"URL"},{"id":"path","modalid":"path","vid":"defaultpath","label":"Path"}]};
				var html = templateScript(context);
				var d1 = document.getElementById('chatLog');
				d1.insertAdjacentHTML('afterend', html);
			</script>

		</div>
	</div>
</body>
</html>
